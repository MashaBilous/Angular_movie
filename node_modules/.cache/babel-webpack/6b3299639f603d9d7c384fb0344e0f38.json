{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { DataService } from 'src/app/data.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../pipes/short-number.pipe\";\n\nfunction MyFavouriteFilmsComponent_ng_container_14_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵlistener(\"click\", function MyFavouriteFilmsComponent_ng_container_14_p_19_Template_p_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const film_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.favouriteFilm(film_r1.id);\n    });\n    i0.ɵɵtext(1, \"It's your favourite!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MyFavouriteFilmsComponent_ng_container_14_p_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵlistener(\"click\", function MyFavouriteFilmsComponent_ng_container_14_p_20_Template_p_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const film_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.favouriteFilm(film_r1.id);\n    });\n    i0.ɵɵtext(1, \"Click here and add to favourites!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"film\": a0,\n    \"list\": a1\n  };\n};\n\nfunction MyFavouriteFilmsComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵelement(3, \"img\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11);\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"shortNumber\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 12);\n    i0.ɵɵtemplate(19, MyFavouriteFilmsComponent_ng_container_14_p_19_Template, 2, 0, \"p\", 13);\n    i0.ɵɵtemplate(20, MyFavouriteFilmsComponent_ng_container_14_p_20_Template, 2, 0, \"p\", 13);\n    i0.ɵɵelementStart(21, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function MyFavouriteFilmsComponent_ng_container_14_Template_button_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const film_r1 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.removeFilm(film_r1.id);\n    });\n    i0.ɵɵtext(22, \"x\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const film_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c0, ctx_r0.table, !ctx_r0.table));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", film_r1.poster, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 9, film_r1.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Rating: \", film_r1.rating, \"/10\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Box office: $\", i0.ɵɵpipeBind1(12, 11, film_r1.cashFlow), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Year of production: \", film_r1.yearOfProduction, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Adding to this site: \", i0.ɵɵpipeBind3(17, 13, film_r1.addingDate, \"shortDate\", \"GMT+2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", film_r1.favourite === true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", film_r1.favourite === !true);\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    dark: a0\n  };\n};\n\nexport let MyFavouriteFilmsComponent = /*#__PURE__*/(() => {\n  class MyFavouriteFilmsComponent {\n    constructor(dataService) {\n      this.dataService = dataService;\n      this.films = [];\n      this.isFiltered = false;\n      this.remove = new EventEmitter();\n    }\n\n    ngOnInit() {\n      this.films = JSON.parse(localStorage.getItem('films')).filter(film => film.favourite == true);\n      this.visibility = this.dataService.initVisibility();\n      this.table = this.dataService.initView();\n    }\n\n    toggle() {\n      this.visibility = !this.visibility;\n      localStorage.setItem('visibility', JSON.stringify(this.visibility));\n    }\n\n    toggleView() {\n      this.table = !this.table;\n      localStorage.setItem('table', JSON.stringify(this.table));\n    }\n\n    filter(e) {\n      const value = e.target.value.toLocaleLowerCase();\n\n      if (value) {\n        this.films = this.films.filter(film => film.name.toLowerCase().includes(value));\n        this.isFiltered = true;\n      } else {\n        this.films = JSON.parse(localStorage.getItem('films'));\n        this.isFiltered = false;\n      }\n    }\n\n    sortByName() {\n      this.films = this.films.sort((a, b) => a.name.localeCompare(b.name));\n    }\n\n    sortByAddingDate() {\n      this.films = this.films.sort((a, b) => {\n        return new Date(b.addingDate).getTime() - new Date(a.addingDate).getTime();\n      });\n    }\n\n    sortByProductionYear() {\n      this.films = this.films.sort((a, b) => {\n        return b.yearOfProduction - a.yearOfProduction;\n      });\n    } // public removeFilm() {\n    //   this.dataService.removeFilm(this.film.id);\n    //   this.remove.emit();\n    // }\n\n\n    removeFilm(id) {\n      this.films = this.films.filter(film => film.id !== id);\n      localStorage.setItem('films', JSON.stringify(this.films));\n    }\n\n    favouriteFilm(id) {\n      this.films.find(film => film.id === id).favourite = !this.films.find(film => film.id === id).favourite;\n      localStorage.setItem('films', JSON.stringify(this.films));\n      this.films = JSON.parse(localStorage.getItem('films')).filter(film => film.favourite == true);\n    }\n\n    initFilms() {\n      this.films = this.dataService.initFilms();\n    }\n\n  }\n\n  MyFavouriteFilmsComponent.ɵfac = function MyFavouriteFilmsComponent_Factory(t) {\n    return new (t || MyFavouriteFilmsComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n  };\n\n  MyFavouriteFilmsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MyFavouriteFilmsComponent,\n    selectors: [[\"app-my-favourite-films\"]],\n    inputs: {\n      film: \"film\"\n    },\n    outputs: {\n      remove: \"remove\"\n    },\n    features: [i0.ɵɵProvidersFeature([DataService])],\n    decls: 15,\n    vars: 7,\n    consts: [[\"name\", \"fontStyle\", \"aria-label\", \"Font Style\", 3, \"ngClass\"], [\"value\", \"name\", 3, \"click\"], [\"value\", \"addingDate\", 3, \"click\"], [\"value\", \"yearOfProduction\", 3, \"click\"], [\"placeholder\", \"Search\", 1, \"search\", 3, \"keyup\"], [3, \"click\"], [1, \"films\", 3, \"ngClass\"], [4, \"ngFor\", \"ngForOf\"], [\"name\", \"view\", 3, \"ngClass\"], [1, \"film-thumb-container\"], [1, \"film-thumbnail\", 3, \"src\"], [1, \"film-description\"], [1, \"float\"], [\"class\", \"favourite\", 3, \"click\", 4, \"ngIf\"], [1, \"remove\", 3, \"click\"], [1, \"favourite\", 3, \"click\"]],\n    template: function MyFavouriteFilmsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ul\", 0);\n        i0.ɵɵelementStart(1, \"li\", 1);\n        i0.ɵɵlistener(\"click\", function MyFavouriteFilmsComponent_Template_li_click_1_listener() {\n          return ctx.sortByName();\n        });\n        i0.ɵɵtext(2, \"Sort by name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"li\", 2);\n        i0.ɵɵlistener(\"click\", function MyFavouriteFilmsComponent_Template_li_click_3_listener() {\n          return ctx.sortByAddingDate();\n        });\n        i0.ɵɵtext(4, \"Sort by adding date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"li\", 3);\n        i0.ɵɵlistener(\"click\", function MyFavouriteFilmsComponent_Template_li_click_5_listener() {\n          return ctx.sortByProductionYear();\n        });\n        i0.ɵɵtext(6, \"Sort by year of release\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"li\");\n        i0.ɵɵelementStart(8, \"input\", 4);\n        i0.ɵɵlistener(\"keyup\", function MyFavouriteFilmsComponent_Template_input_keyup_8_listener($event) {\n          return ctx.filter($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"li\", 5);\n        i0.ɵɵlistener(\"click\", function MyFavouriteFilmsComponent_Template_li_click_9_listener() {\n          return ctx.toggle();\n        });\n        i0.ɵɵtext(10, \"change mode\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"li\", 5);\n        i0.ɵɵlistener(\"click\", function MyFavouriteFilmsComponent_Template_li_click_11_listener() {\n          return ctx.toggleView();\n        });\n        i0.ɵɵtext(12, \"change view\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 6);\n        i0.ɵɵtemplate(14, MyFavouriteFilmsComponent_ng_container_14_Template, 23, 20, \"ng-container\", 7);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c1, ctx.visibility));\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c1, ctx.visibility));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.films);\n      }\n    },\n    directives: [i2.NgClass, i2.NgForOf, i2.NgIf],\n    pipes: [i2.UpperCasePipe, i3.ShortNumberPipe, i2.DatePipe],\n    styles: [\"*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{padding:25px;background-color:#fff;color:#000;font-size:25px}.films[_ngcontent-%COMP%]{padding-top:6rem;display:flex;flex-wrap:wrap;justify-content:center;width:100%}.list[_ngcontent-%COMP%]{width:80%;margin:10px;height:16rem;border-radius:5px;background-color:#202020;box-shadow:4px 3px 8px 0 200 152 44 / 22%;transition-duration:.3s;cursor:pointer;overflow:hidden;display:grid;grid-template-columns:1fr 3fr}.list[_ngcontent-%COMP%]:hover{box-shadow:4px 3px 11px 6px 200 152 44 / 46%;transform:translateY(-4px)}.list-thumb-container[_ngcontent-%COMP%]{background-color:#000;position:relative;height:100%;color:#fff;padding-left:0}.list-thumbnail[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;margin:0 auto;height:100%}.list-description[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;margin:auto}.list-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.list-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;padding:1px}.list-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{font-size:1px;padding-left:90%;color:#639}.list-description.favourite[_ngcontent-%COMP%]{color:gold}.film[_ngcontent-%COMP%]{width:230px;margin:10px;height:390px;border-radius:5px;background-color:#202020;box-shadow:4px 3px 8px 0 200 152 44 / 22%;transition-duration:.3s;cursor:pointer;overflow:hidden}.film[_ngcontent-%COMP%]:hover{box-shadow:4px 3px 11px 6px 200 152 44 / 46%;transform:translateY(-4px)}.film-thumb-container[_ngcontent-%COMP%]{background-color:#000;position:relative;height:16rem;color:#fff;text-align:center}.film-thumbnail[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;margin:0 auto;height:16rem}.film-description[_ngcontent-%COMP%]{margin:3px;color:#fff;text-align:center}.film-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px}.film-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:0;margin:0}.film-description[_ngcontent-%COMP%]   .favourite[_ngcontent-%COMP%]{color:gold}.dark[_ngcontent-%COMP%]{background-color:#000;color:#fff}.remove[_ngcontent-%COMP%]{background-color:#323a45;color:#fff;height:3px;border:none;padding-left:3%;margin-left:3%}.favourite[_ngcontent-%COMP%]{color:gold}ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}li[_ngcontent-%COMP%]{display:inline;border:1px solid grey;background-color:#000;color:#fff;text-align:center;padding:1rem;margin:2rem}[_ngcontent-%COMP%]::-webkit-input-placeholder{font-style:italic;color:#585555;font-size:16px;text-align:center;font-style:normal}[_ngcontent-%COMP%]:-moz-placeholder{font-style:italic;color:#585555;font-size:16px;text-align:center;font-style:normal}[_ngcontent-%COMP%]::-moz-placeholder{font-style:italic;color:#585555;font-size:16px;text-align:center;font-style:normal}[_ngcontent-%COMP%]:-ms-input-placeholder{font-style:italic;color:#585555;font-size:16px;text-align:center;font-style:normal}@media (max-width: 375px){.list[_ngcontent-%COMP%]{width:80%;margin:10px;height:16rem;border-radius:5px;background-color:#202020;box-shadow:4px 3px 8px 0 200 152 44 / 22%;transition-duration:.3s;cursor:pointer;overflow:hidden;display:grid;grid-template-columns:2fr 1fr}.list-description[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;margin:auto}.list-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:8px}.list-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:6px;padding:1px}.list-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{font-size:1px;padding-left:90%;color:#639}.list-description.favourite[_ngcontent-%COMP%]{color:gold}li[_ngcontent-%COMP%]{padding:1rem;margin:0;width:100%}}@media (max-width: 1024px){li[_ngcontent-%COMP%]{padding:1rem;margin:0;width:100%}}\"]\n  });\n  return MyFavouriteFilmsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}