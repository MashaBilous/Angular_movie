{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { EventEmitter } from '@angular/core';\nimport { Film } from '../filmClass';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\n\nfunction AdiingFormComponent_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function AdiingFormComponent_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.showForm();\n    });\n    i0.ɵɵtext(1, \" Add new film \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdiingFormComponent_form_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 4);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵelementStart(3, \"div\", 6);\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 6);\n    i0.ɵɵelementStart(8, \"label\");\n    i0.ɵɵtext(9, \"Box office\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 6);\n    i0.ɵɵelementStart(12, \"label\");\n    i0.ɵɵtext(13, \"Rating\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 6);\n    i0.ɵɵelementStart(16, \"label\");\n    i0.ɵɵtext(17, \"Year of Production\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"input\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 6);\n    i0.ɵɵelementStart(20, \"label\");\n    i0.ɵɵtext(21, \"adding date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 6);\n    i0.ɵɵelementStart(24, \"label\");\n    i0.ɵɵtext(25, \"Poster\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"input\", 12);\n    i0.ɵɵlistener(\"change\", function AdiingFormComponent_form_2_Template_input_change_26_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.handlerUpload($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 13);\n    i0.ɵɵelementStart(28, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function AdiingFormComponent_form_2_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onSubmit();\n    });\n    i0.ɵɵtext(29, \"Adding new film\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.addFilmForm);\n  }\n}\n\nexport let AdiingFormComponent = /*#__PURE__*/(() => {\n  class AdiingFormComponent {\n    constructor() {\n      this.addFilm = new EventEmitter();\n      this.isShowForm = false;\n      this.addFilmForm = FormGroup;\n      this.imgSource = '';\n    }\n\n    showForm() {\n      this.isShowForm = true;\n    }\n\n    ngOnInit() {\n      this.addFilmForm = new FormGroup({\n        name: new FormControl('', Validators.required),\n        cashFlow: new FormControl('', Validators.required),\n        rating: new FormControl('', Validators.required),\n        yearOfProduction: new FormControl('', Validators.required),\n        addingDate: new FormControl('', Validators.required),\n        poster: new FormControl('', Validators.required)\n      });\n    }\n\n    handlerUpload(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = () => {\n        this.imgSource = typeof reader.result == 'string' ? reader.result : '';\n      };\n    }\n\n    onSubmit() {\n      const id = this.addFilmForm.value.id;\n      const name = this.addFilmForm.value.name;\n      const cashFlow = this.addFilmForm.value.cashFlow;\n      const rating = this.addFilmForm.value.rating;\n      const yearOfProduction = this.addFilmForm.value.yearOfProduction;\n      const addingDate = this.addFilmForm.value.addingDate;\n      const poster = this.imgSource;\n      const favourite = false;\n      let film = new Film(id, name, cashFlow, rating, yearOfProduction, addingDate, poster, favourite);\n      this.addFilm.emit(film);\n      this.addFilmForm.reset();\n      this.isShowForm = false;\n    }\n\n  }\n\n  AdiingFormComponent.ɵfac = function AdiingFormComponent_Factory(t) {\n    return new (t || AdiingFormComponent)();\n  };\n\n  AdiingFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdiingFormComponent,\n    selectors: [[\"app-adiing-form\"]],\n    outputs: {\n      addFilm: \"addFilm\"\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[1, \"adding-form\"], [\"class\", \"add-film\", 3, \"click\", 4, \"ngIf\"], [\"action\", \"\", 3, \"formGroup\", 4, \"ngIf\"], [1, \"add-film\", 3, \"click\"], [\"action\", \"\", 3, \"formGroup\"], [1, \"form-body\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"title\", \"formControlName\", \"name\"], [\"type\", \"number\", \"placeholder\", \"Box office\", \"formControlName\", \"cashFlow\"], [\"type\", \"number\", \"placeholder\", \"rating\", \"formControlName\", \"rating\"], [\"type\", \"number\", \"placeholder\", \"year of production\", \"formControlName\", \"yearOfProduction\"], [\"type\", \"date\", \"placeholder\", \"poster\", \"formControlName\", \"addingDate\"], [\"type\", \"file\", \"formControlName\", \"poster\", 3, \"change\"], [1, \"form-footer\"], [\"type\", \"submit\", 1, \"submit\", 3, \"click\"]],\n    template: function AdiingFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AdiingFormComponent_button_1_Template, 2, 0, \"button\", 1);\n        i0.ɵɵtemplate(2, AdiingFormComponent_form_2_Template, 30, 1, \"form\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isShowForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isShowForm);\n      }\n    },\n    directives: [i1.NgIf, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.NumberValueAccessor],\n    styles: [\".adding-form[_ngcontent-%COMP%]{display:block;background:url(https://images.unsplash.com/photo-1513106580091-1d82408b8cd6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1176&q=80) center/cover no-repeat;height:60vh;width:100%;text-align:center;color:#fff;opacity:.9}.adding-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;text-decoration:none;text-transform:uppercase;font-size:.8rem;font-weight:1,5rem;color:#fff;background-color:transparent;cursor:pointer;text-align:center;padding:1rem;margin-left:43%;margin-top:8%;border-top:.2rem solid #fff;border-bottom:.2rem solid #fff}.adding-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;border-style:none;border-bottom-width:.1rem;border-bottom-style:solid;border-bottom-color:#fff;padding:1rem;width:70%}.adding-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.adding-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .adding-form[_ngcontent-%COMP%]   focus[_ngcontent-%COMP%], .adding-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;font:#fff}.adding-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{padding-top:3%;display:grid;grid-template-columns:2fr 5fr;font:#fff}@media (max-width: 375px){.adding-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.5rem;padding:1rem}.adding-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem}.adding-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .adding-form[_ngcontent-%COMP%]   focus[_ngcontent-%COMP%], .adding-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;font:#fff}.adding-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{padding-top:1%;display:grid;grid-template-columns:1fr}}\"]\n  });\n  return AdiingFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}